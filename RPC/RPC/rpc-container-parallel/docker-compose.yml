version: "3.9"

services:
  service-clean:
    build: .
    container_name: service-clean
    command: python3 services/service_clean.py
    ports:
      - "50051:50051"

  service-tokenize:
    build: .
    container_name: service-tokenize
    command: python3 services/service_tokenize.py
    ports:
      - "50052:50052"

  service-sentiment:
    build: .
    container_name: service-sentiment
    command: python3 services/service_sentiment.py
    ports:
      - "50053:50053"

  service-report:
    build: .
    container_name: service-report
    command: python3 services/service_report.py
    ports:
      - "50054:50054"
    volumes:
      - ./reports:/app/reports

  client:
    build: .
    container_name: client
    command: python3 client.py
    depends_on:
      - service-clean
      - service-tokenize
      - service-sentiment
      - service-report
